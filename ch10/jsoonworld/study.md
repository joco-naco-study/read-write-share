# CH10 : 단위 테스트의 원칙

# 단위 테스트 기초

- 테스트 중인 코드`code undes test`
- 테스트 코드 `test code`
- 테스트 케이스`test case`
	- 준비 `arrange`
	- 실행 `act`
	- 단언 `assert`
- 테스트 러너`test runner`

# 좋은 단위 테스트는 어떻게 자성할 수 있는가?

- 훼손의 정확한 감지
- 세부 구현 사항에 독립적
- 잘 설명되는 실패
- 이해할 수 있는 테스트 코드
- 쉽고 빠르게 진행

## 훼손의 정확한 감지

- 코드에 대한 초기 신뢰를 준다.
- 미래의 훼손을 막아준다.
- 회귀 테스트`regression test`
- 플래키`flakey`: 테스트 대상 코드가 정상임에도 불구하고 떄로는 통과하고 때로는 실패하는 테스트

## 세부 구현 사항에 독립적

- 기능적 변화
- 리팩터링

# 퍼블릭 API에 집중하되 중요한 동작은 무시하지 말라

- 중요한 동작이 퍼블릭 API 외부에 있을 수 있다.
- 서버와 상호작용하는 코드
- 데이터베이스에 값을 저장하거나 읽는 코드

# 테스트 더블

- 테스트 단순화
- 테스트로부터 외부 세계 보호
- 외부로부터 테스트 보호
- 목`mock`
- 스텁`stub`
- 목과 스텁은 문제가 될 수 있다.
	- 목과 스텁은 실제적이지 않은 테스트를 만들 수 있다.
	- 목과 스텁을 사용하면 테스트가 구현 세부 정보에 유착될 수 있다.
- 페이크`fake`
	- 페이크로 인해 보다 실질적인 테스트가 이루어질 수 있다.
	- 페이크를 사용하면 구현 세부 정보로부터 테스트를 분리할 수 있다.

# 테스트 철학으로부터 신중하게 선택하라

- 테스트 주도 개발
- 행동 주도 개발
- 수용 테스트 주도 개발



