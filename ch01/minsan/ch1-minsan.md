# Chapter1: 코드 품질 (intro)

## 1. 코드 품질의 목표

```
1. 코드는 작동해야 한다.
2. 코드는 작동이 멈추면 안된다.
3. 코드는 변경된 요구 사항에 적응할 수 있어야 한다. ⭐️
4. 코드는 이미 존재하는 기능을 중복 구현해서는 안 된다.
```

## 2. 코드 품질의 핵심 요소

> 위의 목표를 달성하기 위해서는 구체적인 전략이 필요하다.  
> 책에서는 이에 대해서 다음의 여섯 가지 전략을 제시한다.

```
1. 코드는 읽기 쉬워야 한다.
2. 코드는 예측 가능해야 한다.
3. 코드를 오용하기 어렵게 만들라.
4. 코드를 모듈화하라.
5. 코드를 재사용 가능하고 일반화할 수 있게 작성하라.
6. 테스특 용이한 코드를 작성하고, 제대로 테스트하라.
```

### 2-1. 코드의 가독성

올바른 `추상화 계층`은 코드의 가독성 향상에도 도움을 줄 수 있다. _(2장에서 계속)_  
추상화는 특정 클래스가 어떤 역할을 수행함에 있어서 어느 API를 외부에 노출시켜야 하는지 보여준다.

- 개발자는 이러한 추상화를 통해 **해당 클래스가 어느 역할로 동작하는지** 파악할 수 있다. 즉, 코드 가독성을 높일 수 있다.

_(추상화뿐만 아니라, **5장**에서는 코드의 가독성을 높이는 여러가지 구체적인 기법을 다루게 될 것임)_

### 2-2. 예측 가능한 코드

코드는 예상한 범위 내의 기능을 수행해야 한다. _(= 특정 값을 입력하여 함수를 실행하면, 해당 함수는 기대한 결과 값을 리턴해야 한다)_

- 특히 이러한 예측은 두뇌에 입력되어 있는 `정신 모델`에도 영향을 받는다. _(👉🏻 코드 계약의 필요성)_

### 2-3. 코드 오용 방지

코드는 종종 다른 코드에 의해 호출된다. 이때, 해당 코드를 호출할 때 특정 인수가 입력되거나 시스템이 특정 상태에 있음을 예상하게 된다.

- `코드 계약`을 통해 코드의 오용을 방지할 수 있다.

### 2-4. 코드의 모듈화

> **모듈화**  
> 👉🏻 개체나 시스템의 구성 요소가 독립적으로 교환되거나 교체될 수 있음을 의미.

모듈화된 시스템의 주요 특징 중 하나는, 인터페이스가 잘 정의되어 <U>**서로 다른 구성 요소 간 상호작용하는 지점이 최소화된다는 점**</U>이다.

- 코드를 **외부에 의존하지 않고 실행할 수 있는 모듈로 나누는 것** (by `추상화`)
- 이때, 두 개의 인접한 모듈 사이의 상호작용은 한 곳에서 일어나고 잘 정의된 인터페이스를 사용한다.

### 2-5. 재사용 가능하고 일반화 할 수 있는 코드

`모듈화된 코드`는 더 높은 재사용성과 일반화성을 갖는다.

### 2-6. 테스트가 용이한 코드를 작성하고 제대로 테스트 한다.

테스트 용이성은 모듈화와 관련이 깊다. _(= 모듈화된 코드는 테스트 용이성이 더 좋다.)_

- 현재 작성 중인 코드의 테스트 용이성을 확인하기 위해 코드를 작성하면서 `어떻게 테스트할 것인가?를 계속 자문하는 것`이 좋다.
  - 즉, **코드를 다 작성하고 나서 테스트에 대해 생각해서는 안 된다.**

## 📒 내용 정리

- 코드 품질 향상에는 `추상화`가 자주 기여한다.
- 코드를 작성하는 과정에서 항상 `테스트 하기 쉬운 코드`인지 고려해야 한다. 즉, **테스트 코드는 코드를 다 작성하고 나서 고려하는 것이 아니다.**

  ```markdown
  [ ✏️ 김동욱 인프랩 CTO의 강연 참고 ]

  "테스트가 용이한 코드를 작성하라는 것"은 결국 `의존성 주입`, `추상화` 등의 기법을 통해 테스트 객체를 직접 생성하는 것처럼, 테스트가 수월해질 수 있는 구조로 설계하라는 것으로 해석했다.

  👉🏻 **"단위 테스트가 수월하다"**는 것은 결국 객체가 외부에 의존하지 않고 역할을 충분히 수행할 수 있다는 의미로도 해석할 수 있기 때문이다. _(이것은 개인적인 생각 ...)_
  ```
